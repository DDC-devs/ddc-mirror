:set Indent
:set trans Rewrite

:set rule copyConst [r1:%] (x:Int r1). Const r1 => copyInt [:r1 r1:] x = x

:set rule

-- don't do for any region
:trans..
letregion r in
(\(x : Int r). ())
    (copyInt [:r r:] (23 [r] ()))
;;

-- do it for consts
:trans..
letregion r with {w : Const r} in
(\(x : Int r). ())
    (copyInt [:r r:] (23 [r] ()))
;;

-- todo more tests with de bruijns
-- and with witnesses as lambda arguments
