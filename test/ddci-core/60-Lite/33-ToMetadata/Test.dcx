
:set lang Lite
:set +Indent +SuppressImports
:set builder x86_64-darwin

:to-llvm..
module Test with letrec
foo [r1 r2 r3 : %] <w1 : Const r1> <w2 : Distinct r2 r3> (x : Unit) : Word64# = 42w64#

bar (_ : Unit) : Word64#
 = letregion r1 with { w1 : Const r1 } in
   letregion r2 in
   letregion r3 with { w2 : Distinct r2 r3 } in
   do   foo [:r1 r2 r3:] <w1> <w2> ();;