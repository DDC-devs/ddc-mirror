
:set lang Flow

-- Two folds over the same input series.
:flow-lower..
module Fold with letrec
ffold [k : Rate] (s : Series# k Int#) : Int#
 = add# [Int#]
        (fold# [k] [Int#] [Int#] (add# [Int#]) 0i# s)
        (fold# [k] [Int#] [Int#] (mul# [Int#]) 1i# s)
;;
